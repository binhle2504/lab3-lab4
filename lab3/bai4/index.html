<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="">bai 4</div>
    <script>const dogs = [
            { weight: 22, curFood: 250, owners: ['Alice', 'Bob'] },
            { weight: 8, curFood: 200, owners: ['Matilda'] },
            { weight: 13, curFood: 275, owners: ['Sarah', 'John'] },
            { weight: 32, curFood: 340, owners: ['Michael'] }
        ];

        // Yêu cầu 1
        dogs.forEach(dog => {
            dog.recommendedFood = Math.trunc(dog.weight ** 0.75 * 28);
        });

        // Yêu cầu 2
        const sarahDog = dogs.find(dog => dog.owners.includes('Sarah'));
        if (sarahDog) {
            const eatTooMuch = sarahDog.curFood > sarahDog.recommendedFood * 1.1;
            const eatTooLittle = sarahDog.curFood < sarahDog.recommendedFood * 0.9;
            console.log(`cho cua sarrah an  ${eatTooMuch ? 'nhieu' : 'it'} qua.`);
        }


        // Yêu cầu 3
        const ownersEatTooMuch = dogs
            .filter(dog => dog.curFood > dog.recommendedFood * 1.1)
            .flatMap(dog => dog.owners);

        const ownersEatTooLittle = dogs
            .filter(dog => dog.curFood < dog.recommendedFood * 0.9)
            .flatMap(dog => dog.owners);

        // Yêu cầu 4
        console.log(`${ownersEatTooMuch.join(' va ')}an nhieu qua!`);
        console.log(`${ownersEatTooLittle.join(' va')}an it qua `);

        // Yêu cầu 5
        const exactAmount = dogs.every(dog => dog.curFood === dog.recommendedFood);
        console.log(`tat ca cac chu cho an dung luong thuc an: ${exactAmount}`);

        // Yêu cầu 6
        const reasonableAmount = dogs.every(
            dog =>
                dog.curFood > dog.recommendedFood * 0.9 &&
                dog.curFood < dog.recommendedFood * 1.1
        );
        console.log(`tat ca cho an dung luonghop ly: ${reasonableAmount}`);

        // Yêu cầu 7
        const dogsWithReasonableAmount = dogs.filter(
            dog =>
                dog.curFood > dog.recommendedFood * 0.9 &&
                dog.curFood < dog.recommendedFood * 1.1
        );

        console.log('cac cho an hop ly');
        console.log(dogsWithReasonableAmount);

        // Yêu cầu 8
        const sortedDogs = dogs.slice().sort((a, b) => a.recommendedFood - b.recommendedFood);
        console.log('cho duoc sap xem an luong thuc an de nghi');
        console.log(sortedDogs);
    </script>
</body>

</html>